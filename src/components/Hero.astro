---
import {
  getLangFromUrl,
  useTranslations,
  getRelativeLocaleUrl,
} from "../i18n/utils";
import heroBg from "../assets/images/hero-bg.png";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section
  class="hero-section"
  style={`background-image: linear-gradient(rgba(15, 23, 42, 0.5), rgba(255, 255, 255, 0.4) 85%), url(${heroBg.src});`}
>
  <div class="container hero-container">
    <div class="hero-content">
      <h1>
        {
          lang === "ja" ? (
            <>
              iPSテクノロジーによる
              <br />
              難病の根本的治療の実現
              <br class="sp-only" />
            </>
          ) : (
            <>
              Realizing fundamental treatments
              <br />
              for intractable diseases using iPS technology
            </>
          )
        }
      </h1>
      <p class="hero-sub">
        {
          lang === "ja" ? (
            <>
              <br class="pc-only" />
            </>
          ) : (
            <>
              <br class="pc-only" />
            </>
          )
        }
      </p>

      <div class="hero-actions">
        <a href={getRelativeLocaleUrl(lang, "pipeline")} class="btn btn-primary"
          >{t("home.hero.button.pipeline")}</a
        >
        <a
          href={getRelativeLocaleUrl(lang, "contact")}
          class="btn btn-secondary">{t("home.hero.button.contact")}</a
        >
      </div>
    </div>
  </div>
</section>

<style>
  .hero-section {
    padding: 10rem 0 8rem;
    min-height: 85vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .hero-container {
    position: relative;
    z-index: 1;
  }

  .hero-content {
    max-width: 800px;
  }

  h1 {
    font-size: 3.8rem;
    letter-spacing: -0.03em;
    margin-bottom: 2rem;
    line-height: 1.1;
    color: #ffffff;
    text-shadow:
      0 0 8px rgba(0, 0, 0, 0.8),
      0 0 16px rgba(0, 0, 0, 0.6),
      0 2px 4px rgba(0, 0, 0, 0.9);
  }

  .hero-sub {
    font-size: 1.25rem;
    color: #ffffff;
    margin-bottom: 3rem;
    line-height: 1.7;
    font-weight: 500;
    text-shadow:
      0 0 6px rgba(0, 0, 0, 0.8),
      0 1px 3px rgba(0, 0, 0, 0.9);
  }

  .hero-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .sp-only {
    display: none;
  }
  .pc-only {
    display: inline;
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 0;
      min-height: auto;
    }

    h1 {
      font-size: 2.25rem;
    }

    .sp-only {
      display: inline;
    }
    .pc-only {
      display: none;
    }

    .hero-sub {
      font-size: 1rem;
    }
  }
</style>
